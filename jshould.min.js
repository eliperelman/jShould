/*
jShould JavaScript Assertion Library
http://eliperelman.com/jshould

Copyright (c) 2011 Eli Perelman
Dual licensed under the MIT or GPL Version 2 licenses.

Special thanks to Akhil Uddemarri for his help in solving 
several logical issues I faced in creating jShould.
*/
(function(a){var e=a.jShould;var f=a.$$;var h={undef:"undefined",func:"function",pass:"info",fail:"warn",string:"string",bool:"boolean",num:"number",obj:"object"};var b={hasConsole:typeof console!==h.undef,hasInfo:typeof console!==h.undef&&typeof console.info===h.func,hasWarn:typeof console!==h.undef&&typeof console.warn===h.func,hasFireUnit:typeof fireunit===h.obj,fill:function(m){for(var k=0,j=arguments.length;k<j;k++){var l=new RegExp("\\{"+k+"\\}","g");m=m.replace(l,arguments[k+1])}return m},filter:function(k,p){if(!Array.prototype.filter){if(k===void 0||k===null){throw new TypeError()}var n=Object(k);var j=n.length>>>0;if(!this.isFunction(p)){throw new TypeError()}var m=[];for(var l=0;l<j;l++){if(l in n){var o=n[l];if(p.call(k,o,l,n)){m.push(o)}}}return m}else{return k.filter(p)}},contains:function(m,k){var l=false;if(this.isArray(m)){if(this.isFunction(Array.prototype.indexOf)){l=m.indexOf(k)!==-1}else{for(var n=0,j=m.length;n<j;n++){if(m[n]===k){l=true;break}}}}else{if(this.isObject(m)){l=k in m}else{if(m.toString().indexOf(k)!==-1){l=true}else{l=false}}}return l},isArray:function(j){return Object.prototype.toString.call(j)==="[object Array]"},isNumber:function(j){return !!(j&&typeof j===h.num)},isString:function(j){return !!(j&&typeof j===h.string)},isBool:function(j){return !!(j&&typeof j===h.bool)},isFunction:function(j){return !!(j&&typeof j===h.func)},isDate:function(j){return !!(j&&typeof j.valueOf===h.func)},isObject:function(j){return !!(j&&typeof j===h.obj)},isUndefined:function(j){return typeof j===h.undef},isNull:function(j){return j===null},isEmpty:function(j){return j.length===0||j===""||(this.isObject(j)&&this.getKeys(j).length===0)},getKeys:function(j){return this.isFunction(Object.keys)&&this.isObject(j)?Object.keys(j):(function(){var l=[];for(var k in j){if(j.hasOwnProperty(k)){l.push(k)}}return l})()},getPrototype:function(j){if(!this.isFunction(Object.getPrototypeOf)){return this.isObject("test".__proto__)?object.__proto__:j.constructor.prototype}else{return Object.getPrototypeOf(j)}},throwsEx:function(k){if(!this.isFunction(k)){k=function(){k}}try{k();return false}catch(j){return true}},isEqual:function(r,q){var k=typeof r,j=typeof q,n,m,s=true;if(k!==j){return false}if(r===q){return true}if(r instanceof Date&&q instanceof Date){return r.valueOf()===q.valueOf()}if(!this.isObject(r)&&!this.isObject(q)){return r==q}if(this.isUndefined(r)||this.isNull(r)||this.isUndefined(q)||this.isNull(q)){return false}if(r.length!==q.length){return false}if(this.isArray(r)&&this.isArray(q)){s=true,l=r.length;for(var l=0,o=r.length;l<o;l++){if(!this.isEqual(r[l],q[l])){s=false;break}}return s}try{n=this.getKeys(r);m=this.getKeys(q)}catch(p){return false}if(n.length!==m.length){return false}s=true;for(var l=0,o=n.length;l<o;l++){if(!this.isEqual(r[n[l]],q[n[l]])){s=false;break}}return s}};var g=function(l,k,j){if(b.hasFireUnit){if(l===true){fireunit.ok(true,k)}else{fireunit.ok(false,j)}}else{if(b.hasConsole&&b.hasInfo){if(l===true){console.info(b.fill("Assertion passed: {0}",k))}else{console.warn(b.fill("Assertion failed: {0}",j))}}}},c,d=(function(){var l=function(o){c=o;return new j(o)},j=function(o){return this},n,m,k=function(o,q,p){g(o,q,p);return l(c)};j.prototype={shouldEqual:function(o){n="The arguments are equal.";m="The arguments should have been equal, but they were not.";return k(b.isEqual(c,o),n,m)},shouldNotEqual:function(o){n="The arguments are not equal.";m="The arguments should not have been equal, but they were.";return k(!b.isEqual(c,o),n,m)},shouldBeType:function(o){n=b.fill('The argument was of type "{0}".',o);m=b.fill('The argument should have been of type "{0}", but it was not.',o);return k(typeof c===o,n,m)},shouldNotBeType:function(o){n=b.fill('The argument was not of type "{0}".',o);m=b.fill('The argument should not have been of type "{0}", but it was.',o);return k(typeof c!==o,n,m)},shouldContain:function(o){n="The argument contained the value.";m="The argument should have contained the value, but it did not.";return k(b.contains(c,o),n,m)},shouldNotContain:function(o){n="The argument did not contain the value.";m="The argument should not have contained the value, but it did.";return k(!b.contains(c,o),n,m)},shouldBeNull:function(){n="The argument was null";m="The argument should have been null, but it was not.";return k(b.isNull(c),n,m)},shouldNotBeNull:function(){n="The argument was not null";m="The argument should not have been null, but it was.";return k(!b.isNull(c),n,m)},shouldBeEmpty:function(){n="The argument was empty.";m="The argument should have been empty, but it was not.";return k(b.isEmpty(c),n,m)},shouldNotBeEmpty:function(){n="The argument was not empty.";m="The argument should not have been empty, but it was.";return k(!b.isEmpty(c),n,m)},shouldBeUndefined:function(){n="The argument was undefined.";m="The argument should have been undefined, but it was defined.";return k(b.isUndefined(c),n,m)},shouldBeDefined:function(){n="The argument was defined.";m="The argument should have been defined, but it was undefined.";return k(!b.isUndefined(c),n,m)},shouldBeTrue:function(){n="The argument was true.";m="The argument should have been true, but it was not.";return k(c===true,n,m)},shouldBeFalse:function(){n="The argument was false.";m="The argument should have been false, but it was not.";return k(c===false,n,m)},shouldBeAtLeast:function(o){n=b.fill("The argument was at least {0}.",o);m=b.fill("The argument should have at least been {0}, but it was less than {0}.",o);return k(b.isNumber(c)&&c>=o,n,m)},shouldBeAtMost:function(o){n=b.fill("The argument was at most {0}.",o);m=b.fill("The argument should have at most been {0}, but it was greater than {0}.",o);return k(b.isNumber(c)&&c<=o,n,m)},shouldThrowException:function(){n="The callback threw an exception.";m="The callback should have thrown an exception, but it did not.";return k(b.throwsEx(c),n,m)},shouldNotThrowException:function(){n="The callback did not throw an exception.";m="The callback should not have thrown an exception, but it did.";return k(!b.throwsEx(c),n,m)}};return l})();d.noConflict=function(j){a.$$=f;if(j){a.jShould=e}return d};var i=b.getPrototype(d());d.extend=function(k,l,j,m){i[k]=function(){g(m(c),l,j);return d(c)}};a.$$=a.jShould=d})(window);